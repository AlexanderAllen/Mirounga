version: '2.4'

# Dev stack
#
# - Drupal source code does not change with the environment.
# - Uses PHP FPM image with debugging tools enabled.
# - MUST use MOUNTED volumes instead of NAMED volumes in order to view and debug sources from host IDEs.
# - However with VSC it may be possible to avoid mounts https://code.visualstudio.com/docs/remote/containers-advanced

services:

  drupal:
    image: alexanderallen/drupal-8.prod:alpine-3.11
    volumes:
      - app:/app

  nginx:
    volumes:
      - app:/app

  php-fpm:
    image: alexanderallen/php7-fpm.dev:alpine-3.11
    volumes:
      - app:/app

volumes:
  app:
