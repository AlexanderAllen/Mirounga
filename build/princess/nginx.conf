
worker_processes  auto;

# https://nginx.org/en/docs/ngx_core_module.html#error_log
error_log  stderr info;
pid        /var/run/nginx/nginx.pid;

events {
    worker_connections  1024;
}

http {
    # js_import /etc/nginx/http.js;
    # js_set $foo http.foo;

    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

    # Define default log format.
    log_format  main  'Main log: $remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    # Define log format for PHP-FPM requests.
    log_format docker '
Docker log:
Remote Addr: $remote_addr
Request: "$request"
Status: $status
document_root: $document_root
fastcgi_script_name: $fastcgi_script_name
uri: $uri
';

    # Specify default log format to use.
    access_log  /dev/stdout main;

    sendfile        on;
    keepalive_timeout  65;

    # Virtual host configuration.
    include /etc/nginx/conf.d/*.conf;
}
